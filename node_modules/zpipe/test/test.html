<html>
	<head>
		<title>zpipe test</title>

		<!-- zpipe -->
		<script type="text/javascript" src="../dist/zpipe.min.js"></script>

		<!-- jQuery -->	
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

		<!-- Chai -->
		<script type="text/javascript" src="http://chaijs.com/chai.js"></script>
		<script>var assert = chai.assert;</script>

		<!-- Mocha -->
		<link rel="stylesheet" href="https://raw.github.com/visionmedia/mocha/master/mocha.css" />
		<script type="text/javascript" src="https://raw.github.com/visionmedia/mocha/master/mocha.js"></script>		
		<script>mocha.setup('bdd');</script>

		<script>
			$(function() {
				var data = "Experiments With Alternating Currents of Very High Frequency, and Their Application to Methods of Artificial Illumination";

				describe("zpipe", function() {
					describe("deflate", function() {
						it("should compress strings", function() {
							var zpipe_deflated = zpipe.deflate(data);

							assert.ok(
								zpipe_deflated !== undefined && zpipe_deflated.length > 0 && zpipe_deflated.length < data.length, 
								"Did not compress data"
							);		
						});
					});

					describe("inflate", function() {
						it("should decompress strings", function() {
							var zpipe_deflated = zpipe.deflate(data);

							var zpipe_inflated = zpipe.inflate(zpipe_deflated);
					
							assert.ok(zpipe_inflated == data, "Inflated data did not match input data");			
						});
					});	
				});

				mocha.run();
			});
		</script>
	</head>
	<body>
		 <div id="mocha"></div>
	</body>
</html>
